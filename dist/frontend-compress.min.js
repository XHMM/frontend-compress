function compressImageFile(e,t){return void 0===t&&(t=.92),new Promise(function(a,n){if(e.type.startsWith("image"))if(e.type.match(/jpeg|png/)){var r=new FileReader;r.onload=function(){var n=this.result,r=new Image;r.onload=function(){var n=r.width,o=r.height,i=document.createElement("canvas");i.width=n,i.height=o,i.getContext("2d").drawImage(r,0,0);var p=i.toDataURL("image/jpeg",t);a(dataURLtoFile(p,e.name))},r.src=n},r.readAsDataURL(e)}else n(new Error("Only support jpeg, jpg, png type"));else n(new Error("Not support no-image type"))})}function dataURLtoFile(e,t){var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),o=new Uint8Array(r.length);return o.forEach(function(e,t){r[t].charCodeAt(0)}),new File([o],t,{type:n})}